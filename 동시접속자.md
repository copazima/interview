# 동시접속자의 의미  
> 시스템의 규모, 트래픽/트랜잭션/사용자의 최대 수용가능량을 의미  
> 웹 서버는 기술적으로 응답을 받은 후에 접속을 끊는다.  
  

## 동시접속자 수 확인의 중요성  
1. 서비스 운영시 증설할 시기를 알기 위해. CPU사용률이 60% 되면 증설을 준비하는 것이 좋다.  
2. 전체 하드웨어 성능을 고르게 사용하기 위해. 
  

## 동시접속자의 유래  
컴퓨터 통신 초창기에 서버는 여러 대의 입출력 장치를 기본으로 달고 나왔다. 가상데스크탑 환경처럼 CPU,HDD등은 다 서버의 것을 이용했다.  
이후 Terminal Server라는 제품이 탄생했고 Terminal Server는 1:n의 접속 분배 기능을 제공했다.  
여기서 '동시접속자 수'라는 용어가 쓰이게 됐다. 동시접속자 한계가 넘어가면 접속자는 대기하게 된다.  

지금은 Terminal Server와 Terminal이 Software로 개발되어서 PC안으로 들어갔다. 그래서 Terminal이 Windows,Linux,Unix 상에서 OS계정으로 접속하는 표준 규격이 된 것이다.  
그리고 TCP/IP로 패킷 분할 방식의 접속이 가능해지면서 이론상으로는 무한대의 Terminal이 붙을 수 있게 되었기 때문에 위와 같은 의미의 '동시접속자 수'는 의미가 없어졌다.  
  

## 계산방법  
http 프로토콜이 순식간에 응답을 받고 연결을 끊기 때문에 웹서버는 동시접속자수를 정하기가 힘들다. 그래서 보통 자동화된 Stress Tool을 사용한다. Open Source Stress Tool 구글 검색시 다양한 도구들을 확인할 수 있다. 
Sleep Time없이 Call해보면 동시접속자와 비슷한 상황을 연출할 수 있다. 하지만 현실에서 Sleep Time이 없을 정도의 상황은 거의 발생하지 않기 때문에 웹 서버를 이야기 할 때는 동시접속자 수를 거의 언급하지 않거나 초당 처리 가능한 트랜잭션 건수를 산정하기도 한다.  
'동시접속자 수'를 알아야 한다면 사용자가 접속하는 패턴에 맞춰 테스트 시나리오를 만들고 프로그램을 만들어서 테스트 한다. 이런 테스트 프로그램으로 LoadRunner라는 제품도 있다.  
  
  
 ## tmpC, tps, tpm  
'동시접속자'는 서버기준에서 네트워크 접속부터 계산을 하는 방식이다. 하지만 이제 네트워크 접속을 기준으로 최대량을 산정할 수 없어 CPU를 기준으로 얼마나 빠른지 계산하는 방식이 tmpC(Transaction Per Minute By Council)이다.   
그런데 Transaction은 업무에 따라 발생 부하가 다르다. 그래서 tpm, tps는 구현된 소프트웨어 결과물에 따라서 다르게 측정된다.  
즉 성능 테스트에는 표준 세트가 없어 구현이 끝나면 사용자 시나리오에 맞춰 테스트용 프로그램을 따로 만들어야 한다.  

>참고자료  
[https://medium.com/mo-mu/%EB%8F%99%EC%8B%9C%EC%A0%91%EC%86%8D%EC%9E%90%EC%88%98%EB%9E%80-53478e5e2c68]  
작성자:다정  
작성일:21.6.9